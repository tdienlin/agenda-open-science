---
title: "A Manifesto for Open Science in Communication"
---

```{r warning=F, message=F}
library(magrittr); library(pwr); library(tidyverse)
d <- read.csv("data.csv")
d %<>% 
  mutate(
    Mean.n.k = Mean.n / Mean.k,
    Median.n.k = Median.n / d$Median.k
  ) %>% 
  mutate(
    Mean.pwr.k = pwr.r.test(Mean.n.k, Mean.r)$power,
    Median.pwr.k = pwr.r.test(Median.n.k, Median.r)$power,
    Median.pwr.s = pwr.r.test(Median.n.k, .1)$power,
    Median.pwr.sm = pwr.r.test(Median.n.k, .2)$power,
    Median.pwr.m = pwr.r.test(Median.n.k, .3)$power,
  ) %>% 
  mutate_at(vars(SD.n, Mean.n.k, Median.n.k), funs(round(., 0))) %>% 
  mutate_at(vars(contains("pwr")), funs(round(., 2))) %>% 
  select(
    "Topic area" = Topic.area, 
    "Effect: Median r" = Median.r,
    "Effect: Median N" = Median.n.k,
    "Power: Effects reported" = Median.pwr.k,
    "Power: Small effects" = Median.pwr.s,
    "Power: Small-medium effects" = Median.pwr.sm,
    "Power: Medium effects" = Median.pwr.m
  ) %>% 
  print() %>% 
  write.csv("table_1.csv", row.names = FALSE)
```

